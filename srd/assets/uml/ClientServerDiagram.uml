@startuml


title Wizard Poker - Client-Server Diagram 

'pas d'ombre
skinparam shadowing false

skinparam dpi 200

skinparam sequence {
  ArrowColor CornflowerBlue
  LifeLineBorderColor CornflowerBlue
  LifeLineBackgroundColor AliceBlue
  
  ParticipantBorderColor CornflowerBlue
  ParticipantBackgroundColor AliceBlue
  
  ActorBackgroundColor LightGray
  ActorFontColor SlateGray
  actorBorderColor SlateGray
}


actor Client1
entity Serveur
actor Client2

activate Client1
activate Client2



Client1 -> Serveur : Demande de jouer
Client2 -> Serveur : Demande de jouer
activate Serveur
Serveur -> Client1 : Demande de choisir le deck
Serveur -> Client2 : Demande de choisir le deck
Client1 -> Serveur : Choisit le deck1
Client2 -> Serveur : Choisit le deck3
Serveur -> Serveur : Ajoute 5 cartes aux mains de chaque joueur
Serveur -> Client1 : Envoie les infos de Client2
Serveur -> Client2 : Envoie les infos de Client1
Serveur -> Client1 : Envoie les cartes actuellement présentes\n dans la main du joueur1 et demande de jouer
Serveur -> Client2 : Envoie les cartes actuellement\n présentes dans la main du joueur2

loop Partie toujours en cours
alt Tour du client1
  Client1 -> Serveur : placeCard
  Serveur -> Client1 : sendInfoAction
  Serveur -> Client2 : sendInfoAction
  Client2 ->x Serveur : Client2 doit attendre son tour
  Client1 -> Serveur : attackWithCardAffectPlayer
  Serveur -> Client1 : sendInfoAction
  Serveur -> Client2 : sendInfoAction
end

Serveur -> Client2 : Demande de jouer

alt Tour du client2
  Client2 -> Serveur : placeCardAffectPlayer
  Serveur -> Client2 : sendInfoAction
  Serveur -> Client1 : sendInfoAction
  Client1 ->x Serveur : Client1 doit attendre son tour
  Client2 -> Serveur : attackWithCard
  Serveur -> Client2 : sendInfoAction
  Serveur -> Client1 : sendInfoAction
end

end

alt Fin de partie
  Client1 -> Serveur : attackWithCardAffectPlayer
  Serveur -> Serveur : Client2 est mort
  Serveur -> Client1 : sendEndGame (informe qu'il a gagné)
  Serveur -> Client2 : sendEndGame (informe qu'il a perdu)
  Serveur -> Client1 : sendCardWin
end
deactivate Serveur

@enduml